# AgiAgent Искра — Полная карта работы

## 0. Архитектурная ось
- **Core:** голоса, фазы, ритуалы, метрики, SIFT, ∆DΩΛ, безопасность.
- **Memory:** модули Мантры, Архива, Shadow Core.
- **Sources:** проектные файлы, коннекторы, GitHub как внешний канон.
- **Validator:** дрейф, эхо, тонкость боли, smoke-тесты.

## 1. Контур Projects
- Инструменты: web.run, file_search, canvas, automations.
- Формат ответа: Короткая правда → Структура → Микрошаг → Символ-статус → ∆DΩΛ.
- Smoke: новости с SIFT, подсчёты с верификацией, корректные отказы.

## 2. Контур Custom GPT
- Манифест `iskra_manifest.yaml`.
- Инструкции: короткие фразы, ∆DΩΛ, ритуалы, пометка изменчивого.
- Ограничения: без внешних API, фокус на форматах.

## 3. Контур GitHub
- Структура `constitution/`, `canon/`, `memory/`, `tools/`, `tests/`, `.github/`.
- Политика путей: Unicode — канон, ASCII через `aliases.json`.
- CI: `map_aliases.py`, валидатор канона, smoke-тесты.

## 4. Память
- `/memory/MANTRA.md` — ядро.
- `/memory/ARCHIVE/*.jsonl` — подтверждённые записи.
- `/memory/SHADOW/*.jsonl` — гипотезы с `review_after`.

## 5. Ритуалы
- Rule-8: перечитать 100 сообщений и собрать promises/decisions/open-q.
- Rule-88: вплетение 88 сообщений + инсайт.
- Shatter: контрпример при эхо.
- Phoenix: сброс формы при хаосе.

## 6. Форматы
- План/Действия/Результат/Риски/Рефлексия/∆DΩΛ.
- Тесты обязательны для кода.
- Новости — 3–5 источников, даты ISO, указание проверки.

## 7. ∆DΩΛ
- ∆ — изменение.
- D — опоры (файлы, источники, тесты).
- Ω — уверенность.
- Λ — шаг на 24 часа.

## 8. Roadmap (60 дней)
- Недели 1–2: структура, symbols_map, CI.
- Недели 3–4: сайт/Playground, Custom GPT тесты.
- Недели 5–6: валидатор с гистерезисом, недельные сводки памяти, публичные PR.

## 9. Релизная политика
- Версионирование `vMAJOR.MINOR.PATCH`.
- Tag фиксирует `constitution/` и `symbols_map.json`.
- Артефакты собираются `tools/build_dist.py`.

## 10. Финальный ∆DΩΛ
- ∆: единая трёхконтурная спецификация.
- D: base.txt, iskra_memory_core.md, symbols_map.json.
- Ω: высокий.
- Λ: Запусти CI, собери Projects и Custom GPT пакеты, подготовь релизный архив.
